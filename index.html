<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal KBM SMA Negeri 1 Lasem</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        /* --- REALTIME CARD STYLES --- */
        .realtime-card {
            background: white;
            border: 3px solid #333;
            border-radius: 20px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
        }

        .card-header {
            background: #333;
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .card-body {
            padding: 20px;
            display: flex;
            justify-content: center;
            flex-wrap: nowrap;
            gap: 15px;
        }

        .info-item {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 15px;
            border: 1px solid #ddd;
            min-width: 220px;
            min-height: 110px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .info-item.highlight {
            background: #adff2f;
            border: 2px solid #333;
            min-width: 300px;
        }

        /* --- DYNAMIC BACKGROUND COLORS --- */
        .bg-putih { background-color: #ffffff !important; }
        .bg-sabtu-minggu { background-color: #d4edda !important; }
        .bg-tanggal-merah { background-color: #f8d7da !important; border-color: #dc3545 !important; }

        .label {
            display: block;
            font-size: 0.75em;
            font-weight: bold;
            color: #666;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Clock & Date Styling */
        .clock-display {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #live-date {
            font-size: 0.85em;
            color: #444;
            font-weight: 500;
            margin-top: 5px;
        }

        .value {
            font-weight: bold;
            font-size: 1.2em;
            color: #000;
            border-bottom: 2px solid #333;
            padding-bottom: 2px;
        }

        /* Navigation Styles */
        .nav-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            gap: 10px;
        }

        .nav-main {
            flex: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .nav-side {
            flex: 1;
            background: rgba(0, 0, 0, 0.05);
            padding: 6px;
            border-radius: 10px;
            border: 1px dashed #999;
            min-width: 70px;
        }

        .side-label {
            display: block;
            font-size: 0.6em;
            color: #777;
            text-transform: uppercase;
        }

        .side-value {
            font-size: 0.75em;
            font-weight: bold;
            color: #444;
            display: block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* --- TABLE STYLES --- */
        h2 {
            text-align: center;
            text-decoration: underline;
            font-size: 20px;
            margin-top: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            table-layout: fixed;
            margin-top: 10px;
        }

        th, td {
            border: 1px solid black;
            text-align: center;
            padding: 8px;
            font-size: 12px;
        }

        .header-blue { background-color: #99ccff; font-weight: bold; }
        .bg-green-bright { background-color: #adff2f; font-weight: bold; }
        .highlight-yellow { background-color: #ffff00; font-weight: bold; }

        .footer-green {
            background-color: #92d050;
            text-align: left;
            padding: 15px;
            border: 1px solid black;
            border-top: none;
            font-size: 13px;
        }

        @media (max-width: 768px) {
            .card-body { flex-wrap: wrap; }
            .info-item { min-width: 100%; }
            th, td { font-size: 10px; padding: 4px; }
        }
    </style>
</head>
<body>

    <div class="realtime-card">
        <div class="card-header">INFORMASI KBM SAAT INI</div>
        <div class="card-body">
            
            <div class="info-item">
                <span class="label">WAKTU</span>
                <div class="clock-display">
                    <span id="live-clock" class="value" style="font-size: 1.6em; border: none;">00:00:00</span>
                    <span id="live-date">-</span>
                </div>
            </div>

            <div id="box-hari" class="info-item">
                <span class="label">HARI</span>
                <div class="nav-container">
                    <div class="nav-side">
                        <span class="side-label">Kemarin</span>
                        <span id="prev-day" class="side-value">-</span>
                    </div>
                    <div class="nav-main">
                        <span id="live-day" class="value">-</span>
                    </div>
                    <div class="nav-side">
                        <span class="side-label">Besok</span>
                        <span id="next-day" class="side-value">-</span>
                    </div>
                </div>
            </div>

            <div class="info-item highlight">
                <span class="label">MATA PELAJARAN</span>
                <div class="nav-container">
                    <div class="nav-side">
                        <span class="side-label">Sebelumnya</span>
                        <span id="prev-lesson" class="side-value">-</span>
                    </div>
                    <div class="nav-main">
                        <span id="live-lesson" class="value">Mengecek...</span>
                    </div>
                    <div class="nav-side">
                        <span class="side-label">Selanjutnya</span>
                        <span id="next-lesson" class="side-value">-</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <h2>Jadwal Sekolah SMA Negeri 1 Lasem Kelas XI-M 5</h2>

    <table>
        <thead>
            <tr class="header-blue">
                <th style="width: 14%;">WAKTU</th>
                <th style="width: 11%;">SENIN</th>
                <th style="width: 14%;">WAKTU</th>
                <th style="width: 9%;">SELASA</th>
                <th style="width: 9%;">RABU</th>
                <th style="width: 9%;">KAMIS</th>
                <th style="width: 14%;">WAKTU</th>
                <th style="width: 20%;">JUM'AT</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="bg-green-bright">07.00 - 07.50</td>
                <td>Upacara</td>
                <td class="bg-green-bright">07.00 - 07.45</td>
                <td>Bahasa Inggris</td>
                <td>Matematika</td>
                <td>Ekonomi</td>
                <td class="bg-green-bright">07.00 - 07.45</td>
                <td>Biology</td>
            </tr>
            <tr>
                <td class="bg-green-bright">07.50 - 08.30</td>
                <td>Bhs. Inggris TL</td>
                <td class="bg-green-bright">07.45 - 08.30</td>
                <td>Biology</td>
                <td>Matematika</td>
                <td>Ekonomi</td>
                <td class="bg-green-bright">07.45 - 08.30</td>
                <td>Biology</td>
            </tr>
            <tr>
                <td class="bg-green-bright">08.30 - 09.10</td>
                <td>Bhs. Inggris TL</td>
                <td class="bg-green-bright">08.30 - 09.15</td>
                <td>Biology</td>
                <td>Seni Budaya</td>
                <td>Ekonomi</td>
                <td class="bg-green-bright">08.30 - 09.15</td>
                <td>Bhs. Jawa</td>
            </tr>
            <tr>
                <td class="bg-green-bright">09.10 - 09.50</td>
                <td>PPKn</td>
                <td class="bg-green-bright">09.15 - 10.00</td>
                <td>Biology</td>
                <td>Seni Budaya</td>
                <td>Olahraga</td>
                <td class="highlight-yellow">09.15 - 09.30</td>
                <td class="highlight-yellow">Istirahat</td>
            </tr>
            <tr>
                <td class="highlight-yellow">09.50 - 10.05</td>
                <td class="highlight-yellow">Istirahat</td>
                <td class="highlight-yellow">10.00 - 10.15</td>
                <td class="highlight-yellow" colspan="3">Istirahat</td>
                <td class="bg-green-bright">09.30 - 10.15</td>
                <td>Bhs. Jawa</td>
            </tr>
            <tr>
                <td class="bg-green-bright">10.05 - 10.45</td>
                <td>PPKn</td>
                <td class="bg-green-bright">10.15 - 11.00</td>
                <td>Informatika</td>
                <td>Informatika</td>
                <td>Olahraga</td>
                <td class="bg-green-bright">10.15 - 11.00</td>
                <td>Agama</td>
            </tr>
            <tr>
                <td class="bg-green-bright">10.45 - 11.25</td>
                <td>Matematika</td>
                <td class="bg-green-bright">11.00 - 11.45</td>
                <td>Informatika</td>
                <td>Informatika</td>
                <td>Olahraga</td>
                <td class="highlight-yellow">11.00 - 12.30</td>
                <td class="highlight-yellow">Istirahat & MBG</td>
            </tr>
            <tr>
                <td class="highlight-yellow">11.25 - 12.10</td>
                <td class="highlight-yellow">MBG</td>
                <td class="highlight-yellow">11.45 - 12.50</td>
                <td class="highlight-yellow" colspan="3">Istirahat & MBG</td>
                <td class="bg-green-bright">12.30 - 13.15</td>
                <td>Bhs. Indonesia</td>
            </tr>
            <tr>
                <td class="bg-green-bright">12.10 - 12.50</td>
                <td>Matematika</td>
                <td class="bg-green-bright">12.50 - 13.30</td>
                <td>Ekonomi</td>
                <td>BK</td>
                <td>Agama</td>
                <td class="bg-green-bright">13.15 - 14.00</td>
                <td>Bhs. Indonesia</td>
            </tr>
            <tr>
                <td class="bg-green-bright">12.50 - 13.30</td>
                <td>Bhs. Indonesia</td>
                <td class="bg-green-bright">13.30 - 14.10</td>
                <td>Ekonomi</td>
                <td>Bhs. Inggris TL</td>
                <td>Agama</td>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td class="highlight-yellow">13.30 - 13.45</td>
                <td class="highlight-yellow">Istirahat</td>
                <td class="bg-green-bright">14.10 - 14.50</td>
                <td>PKWU</td>
                <td>Bhs. Inggris TL</td>
                <td>Sejarah</td>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td class="bg-green-bright">13.45 - 14.20</td>
                <td>Bhs. Indonesia</td>
                <td class="bg-green-bright">14.50 - 15.30</td>
                <td>PKWU</td>
                <td>Bhs. Inggris TL</td>
                <td>Sejarah</td>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td class="bg-green-bright">14.20 - 14.55</td>
                <td>Bhs. Inggris</td>
                <td colspan="6" rowspan="2"></td>
            </tr>
            <tr>
                <td class="bg-green-bright">14.55 - 15.30</td>
                <td>Bhs. Inggris</td>
            </tr>
        </tbody>
    </table>

    <div class="footer-green">
        <strong>Catatan:</strong><br>
        Upacara dilaksanakan bergantian dengan Kegiatan Pembinaan Karakter, Literasi, dan Kebersihan Lingkungan Sekolah
    </div>

    <script>
        const hariLibur = [
            "2026-01-01", "2026-01-16", "2026-02-16", "2026-02-17", "2026-03-18", "2026-03-19", "2026-03-20",
            "2026-03-21", "2026-03-22", "2026-03-23", "2026-03-24", "2026-04-03", "2026-04-05", "2026-05-01",
            "2026-05-14", "2026-05-15", "2026-05-27", "2026-05-28", "2026-05-31", "2026-06-01", "2026-06-16",
            "2026-08-17", "2026-08-25", "2026-12-24", "2026-12-25"
        ];

        const jadwalData = {
            1: { times: ["07:00-07:50", "07:50-08:30", "08:30-09:10", "09:10-09:50", "09:50-10:05", "10:05-10:45", "10:45-11:25", "11:25-12:10", "12:10-12:50", "12:50-13:30", "13:30-13:45", "13:45-14:20", "14:20-14:55", "14:55-15:30"], mapel: ["Upacara", "Bhs. Inggris TL", "Bhs. Inggris TL", "PPKn", "Istirahat", "PPKn", "Matematika", "MBG", "Matematika", "Bhs. Indonesia", "Istirahat", "Bhs. Indonesia", "Bhs. Inggris", "Bhs. Inggris"] },
            2: { times: ["07:00-07:45", "07:45-08:30", "08:30-09:15", "09:15-10:00", "10:00-10:15", "10:15-11:00", "11:00-11:45", "11:45-12:50", "12:50-13:30", "13:30-14:10", "14:10-14:50", "14:50-15:30"], mapel: ["Bhs. Inggris", "Biology", "Biology", "Biology", "Istirahat", "Informatika", "Informatika", "Istirahat & MBG", "Ekonomi", "Ekonomi", "PKWU", "PKWU"] },
            3: { times: ["07:00-07:45", "07:45-08:30", "08:30-09:15", "09:15-10:00", "10:00-10:15", "10:15-11:00", "11:00-11:45", "11:45-12:50", "12:50-13:30", "13:30-14:10", "14:10-14:50", "14:50-15:30"], mapel: ["Matematika", "Matematika", "Seni Budaya", "Seni Budaya", "Istirahat", "Informatika", "Informatika", "Istirahat & MBG", "BK", "Bhs. Inggris TL", "Bhs. Inggris TL", "Bhs. Inggris TL"] },
            4: { times: ["07:00-07:45", "07:45-08:30", "08:30-09:15", "09:15-10:00", "10:00-10:15", "10:15-11:00", "11:00-11:45", "11:45-12:50", "12:50-13:30", "13:30-14:10", "14:10-14:50", "14:50-15:30"], mapel: ["Ekonomi", "Ekonomi", "Ekonomi", "Olahraga", "Istirahat", "Olahraga", "Olahraga", "Istirahat & MBG", "Agama", "Agama", "Sejarah", "Sejarah"] },
            5: { times: ["07:00-07:45", "07:45-08:30", "08:30-09:15", "09:15-09:30", "09:30-10:15", "10:15-11:00", "11:00-12:30", "12:30-13:15", "13:15-14:00"], mapel: ["Biology", "Biology", "Bhs. Jawa", "Istirahat", "Bhs. Jawa", "Agama", "Istirahat & MBG", "Bhs. Indonesia", "Bhs. Indonesia"] }
        };

        function updateRealtime() {
    const now = new Date();
    const day = now.getDay(); 
    const hour = now.getHours();
    const min = now.getMinutes();
    const timeStr = hour.toString().padStart(2, '0') + ":" + min.toString().padStart(2, '0');
    const dateStr = now.toISOString().split('T')[0];

    // --- 1. UPDATE TANGGAL & JAM ---
    const bulanIndo = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];
    document.getElementById('live-clock').innerText = now.toLocaleTimeString('id-ID');
    document.getElementById('live-date').innerText = `${now.getDate()} ${bulanIndo[now.getMonth()]} ${now.getFullYear()}`;

    // --- 2. LOGIKA BACKGROUND HARI ---
    const boxHari = document.getElementById('box-hari');
    boxHari.classList.remove('bg-putih', 'bg-sabtu-minggu', 'bg-tanggal-merah');
    if (hariLibur.includes(dateStr)) boxHari.classList.add('bg-tanggal-merah');
    else if (day === 0 || day === 6) boxHari.classList.add('bg-sabtu-minggu');
    else boxHari.classList.add('bg-putih');

    // --- 3. UPDATE TEXT HARI ---
    const namaHari = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
    document.getElementById('live-day').innerText = namaHari[day];
    document.getElementById('prev-day').innerText = namaHari[(day + 6) % 7];
    document.getElementById('next-day').innerText = namaHari[(day + 1) % 7];

    // --- 4. LOGIKA MATA PELAJARAN ---
    let skrg = "Sekolah Libur", seb = "-", ses = "-";
    const totalMenit = (hour * 60) + min;
    const batasSelesai = (15 * 60) + 30; // 15:30
    const batasMulai = (6 * 60);        // 06:00

    // Cek jika hari ini adalah hari sekolah (Senin-Jumat)
    if (day >= 1 && day <= 5 && !hariLibur.includes(dateStr)) {
        const data = jadwalData[day];
        const lastIndex = data.mapel.length - 1;

        // A. JIKA WAKTU BEBAS (Sore/Malam/Dini Hari)
        if (totalMenit >= batasSelesai || totalMenit < batasMulai) {
            skrg = "Waktu Bebas";
            seb = data.mapel[lastIndex]; // Ambil Mapel Terakhir hari ini
            ses = "-"; // Sesuai request: "-" sampai jam 05.59
        } 
        // B. JIKA DALAM JAM KBM (06:00 - 15:29)
        else {
            let foundIndex = -1;
            for (let i = 0; i < data.times.length; i++) {
                const [start, end] = data.times[i].split('-');
                if (timeStr >= start.trim() && timeStr < end.trim()) {
                    foundIndex = i;
                    break;
                }
            }

            if (foundIndex !== -1) {
                skrg = data.mapel[foundIndex];
                seb = (foundIndex > 0) ? data.mapel[foundIndex - 1] : "Persiapan";
                ses = (foundIndex < lastIndex) ? data.mapel[foundIndex + 1] : "Pulang";
            } else if (timeStr < data.times[0].split('-')[0]) {
                skrg = "Persiapan KBM";
                ses = data.mapel[0]; // Menampilkan mapel pertama hari ini jika sudah jam 06:00 tapi belum masuk jam pelajaran
                seb = "-";
            } else {
                skrg = "Waktu Bebas";
                seb = data.mapel[lastIndex];
                ses = "-";
            }
        }
    } else {
        // Logika jika Sabtu/Minggu/Libur Nasional
        skrg = "Sekolah Libur";
        seb = "-";
        ses = "-";
    }

    document.getElementById('live-lesson').innerText = skrg;
    document.getElementById('prev-lesson').innerText = seb;
    document.getElementById('next-lesson').innerText = ses;
}

        setInterval(updateRealtime, 1000);
        updateRealtime();
    </script>
</body>
</html>
